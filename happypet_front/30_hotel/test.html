<!DOCTYPE html>
<html lang="zh-Hant">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>模態視窗範例</title>
    <link rel="stylesheet" href="../css/bootstrap.min.css" />
    <link rel="stylesheet" href="../css/back_header_footer.css" />
    <link rel="stylesheet" href="./hotelback.css" />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css"
    />
    <script src="../js/bootstrap.bundle.js"></script>
    <script src="../js/popper.min.js"></script>
    <style>
      /* 模態視窗的背景 */
      .modal {
        display: none;
        position: fixed;
        z-index: 1;
        left: 0;
        top: 0;
        width: 100%;
        height: 100%;
        overflow: auto;
        background-color: rgba(0, 0, 0, 0.4);
      }

      /* 模態視窗的內容 */
      .modal-content {
        background-color: #fefefe;
        margin: 5% auto;
        padding: 20px;
        border: 1px solid #888;
        width: 80%;
        max-width: 650px;
        border-radius: 5px;
      }

      /* 表單元素樣式 */
      form div {
        margin-bottom: 1px;
        margin-top: 5px;
      }

      label {
        display: block;
        margin-bottom: 1px;
        font-weight: bold;
      }

      input[type="text"],
      select,
      textarea {
        width: 100%;
        padding: 0.5rem;
        border: 1px solid #ccc;
        border-radius: 4px;
      }
      /* 備註欄位只能垂直調整 */
      textarea {
        resize: vertical;
      }

      .col-6 {
        flex: 1;
        padding: 5px;
      }
      .delete:hover {
        color: red;
        cursor: pointer;
      }
    </style>
  </head>
  <body>
    <button id="openModalBtn">開啟表格視窗</button>

    <p class="inpetName">小桃</p>
    <p class="outpetName">旺旺</p>

    <div id="myModal" class="modal">
      <div class="modal-content">
        <span class="close text-end fs-2 fw-bold">&times;</span>
        <h2 class="mb-3">訂房明細</h2>
        <form id="orderForm">
          <div>
            <label for="field1">訂房編號</label>
            <input type="text" id="field1" name="field1" />
          </div>
          <div class="row">
            <div class="col-6">
              <label for="field2">訂購人</label>
              <input type="text" id="field2" name="field2" />
            </div>
            <div class="col-6">
              <label for="field3">聯絡電話</label>
              <input type="text" id="field3" name="field3" />
            </div>
          </div>
          <hr />
          <div class="row">
            <div class="col-6">
              <label for="field4">寵物名字</label>
              <input type="text" id="field4" name="field4" />
            </div>
            <div class="col-6">
              <label for="field5">寵物種類</label>
              <input type="text" id="field5" name="field5" />
            </div>
          </div>
          <div class="row">
            <div class="col-6">
              <label for="field6">寵物品種</label>
              <input type="text" id="field6" name="field6" />
            </div>
            <div class="col-6">
              <label for="field7">寵物年紀</label>
              <input type="text" id="field7" name="field7" />
            </div>
          </div>
          <div class="row">
            <div class="col-6">
              <label for="field8">寵物性別</label>
              <input type="text" id="field8" name="field8" />
            </div>
            <div class="col-6">
              <label for="field9">寵物體重</label>
              <input type="text" id="field9" name="field9" />
            </div>
          </div>
          <hr />
          <div class="row">
            <div class="col-6">
              <label for="field10">房號</label>
              <input type="text" id="field10" name="field10" />
            </div>
            <div class="col-6">
              <label for="field11">金額</label>
              <input type="text" id="field11" name="field11" />
            </div>
          </div>
          <div class="row">
            <div class="col-6">
              <label for="field12">入住期間</label>
              <input type="text" id="field12" name="field12" />
            </div>
            <div class="col-6">
              <label for="field13">房客數</label>
              <input type="text" id="field13" name="field13" />
            </div>
          </div>
          <div class="row">
            <div class="col-6">
              <label for="field14">晚數</label>
              <input type="text" id="field14" name="field14" />
            </div>
            <div class="col-6">
              <label for="status"
                >訂單狀態<i class="bi bi-pencil-square ps-1"></i
              ></label>
              <select id="status" name="status">
                <option value="入住中">入住中</option>
                <option value="尚未入住">尚未入住</option>
                <option value="已退房">已退房</option>
              </select>
            </div>
          </div>
          <div class="mb-3">
            <label for="notes"
              >訂單備註<i class="bi bi-pencil-square ps-1"></i
            ></label>
            <textarea id="notes" name="notes" rows="3"></textarea>
          </div>
          <div class="container mt-4">
            <div class="d-flex justify-content-between align-items-center">
              <div>
                <button
                  type="button"
                  class="btn btn-outline-dark me-2"
                  id="cancelBtn"
                >
                  取消
                </button>
                <span
                  class="delete text-decoration-underline"
                  onclick="deleteFormData()"
                  >刪除訂單</span
                >
              </div>
              <button type="submit" class="btn btn-warning px-5" id="saveBtn">
                儲存
              </button>
            </div>
          </div>
        </form>
      </div>
    </div>
    <script>
      // 獲取模態框元素
      const modal = document.getElementById("myModal");
      const closeModalBtn = document.querySelector(".close");
      const deleteBtn = document.querySelector(".delete");
      const form = document.getElementById("orderForm");

      // 獲取寵物名字元素
      const petNames = document.querySelectorAll(".inpetName, .outpetName");

      // 開啟模態框
      petNames.forEach((pet) => {
        pet.addEventListener("click", () => {
          modal.style.display = "block";
        });
      });

      // 關閉模態框
      closeModalBtn.addEventListener("click", () => {
        modal.style.display = "none";
      });

      // 點擊模態框外部關閉模態框
      window.addEventListener("click", (event) => {
        if (event.target === modal) {
          modal.style.display = "none";
        }
      });
      // 點擊取消按鈕關閉模態框
      cancelBtn.addEventListener("click", () => {
        modal.style.display = "none";
      });
      // 按儲存跳出提示框並離開model
      saveBtn.addEventListener("click", () => {
        modal.style.display = "none";
        alert("儲存成功！");
      });

      // 按刪除訂單 -> 清除表單內容並離開model
      deleteBtn.addEventListener("click", () => {
        //   modal.style.display = "none";
        if (confirm("確定要永久刪除嗎？")) {
          form.reset(); // 清空表單內容
        }
      });
    </script>
  </body>
</html>
